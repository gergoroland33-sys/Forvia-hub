<script>
    const nevnapok = {
        "01-01": "AlpÃ¡r", "01-02": "Ãbel", "01-03": "GenovÃ©va, BenjÃ¡min", "01-04": "Titusz, Leona", "01-05": "Simon", "01-06": "BoldizsÃ¡r", "01-07": "Attila, RamÃ³na", "01-08": "GyÃ¶ngyvÃ©r", "01-09": "Marcell", "01-10": "MelÃ¡nia", "01-11": "Ãgota", "01-12": "ErnÅ‘", "01-13": "Veronika", "01-14": "BÃ³dog", "01-15": "LÃ³rÃ¡nt, LorÃ¡nd", "01-16": "GusztÃ¡v", "01-17": "Antal, AntÃ³nia", "01-18": "Piroska", "01-19": "SÃ¡ra, MÃ¡riÃ³", "01-20": "FÃ¡biÃ¡n, SebestyÃ©n", "01-21": "Ãgnes", "01-22": "Vince", "01-23": "Zelma, Rajmund", "01-24": "TimÃ³t", "01-25": "PÃ¡l", "01-26": "Vanda, Paula", "01-27": "Angelika", "01-28": "KÃ¡roly, Karola", "01-29": "AdÃ©l", "01-30": "Martina, Gerda", "01-31": "Marcella",
        "12-31": "Szilveszter"
    };

    function updateInfo() {
        const now = new Date();
        const napok = ["VasÃ¡rnap", "HÃ©tfÅ‘", "Kedd", "Szerda", "CsÃ¼tÃ¶rtÃ¶k", "PÃ©ntek", "Szomb"];
        const napNeve = napok[now.getDay()];
        const dateStr = now.getFullYear() + ". " + String(now.getMonth() + 1).padStart(2, '0') + ". " + String(now.getDate()).padStart(2, '0') + ". " + napNeve;
        
        document.getElementById('date-text').innerText = dateStr;

        const honapNap = String(now.getMonth() + 1).padStart(2, '0') + "-" + String(now.getDate()).padStart(2, '0');
        const maiNevnap = nevnapok[honapNap] || "---";
        document.getElementById('name-day').innerText = "NÃ©vnap: " + maiNevnap;

        const dailyKey = "forvia_" + now.getFullYear() + (now.getMonth()+1) + now.getDate();
        const cacheBuster = Math.floor(Math.random() * 1000);
        
        const hitUrl = `https://visitor-badge.laobi.icu/badge?page_id=gergoroland_hub_${dailyKey}&left_text=LÃ¡togatÃ³k&color=10b981&lcolor=1e293b&style=flat-square&t=${cacheBuster}`;
        document.getElementById('hit-img').src = hitUrl;
    }
    updateInfo();

    function toggleMenu() {
        const sidebar = document.getElementById('sidebar');
        const overlay = document.getElementById('overlay');
        const icon = document.getElementById('menuIcon');
        sidebar.classList.toggle('open');
        overlay.classList.toggle('active');
        icon.innerText = sidebar.classList.contains('open') ? 'âœ•' : 'â˜°';
    }

    const moduleNames = {
        '1.html': 'ğŸ” AlkatrÃ©sz KeresÅ‘',
        '2.html': 'ğŸ’° BÃ©rkalkulÃ¡tor',
        '3.html': 'ğŸ“… MÅ±szaknaptÃ¡r',
        '4.html': 'ğŸ“ Napi JelentÃ©s segÃ©dlet',
        '5.html': 'ğŸ­ Maszk keresÅ‘',
        '7.html': 'ğŸ“Š Hiba AnalÃ­zis',
        '8.html': 'ğŸ‘¥ SzabadsÃ¡gok (Staff Pro)',
        '9.html': 'ğŸ“· Barcode Scan',
        'home':   'ğŸ  KezdÅ‘lap'
    };

    // --- DISCORD KÃœLDÅ ---
    function sendDiscordLog(actionName, colorCode = 3883766) {
        const webhookURL = "https://discord.com/api/webhooks/1455930417155674125/Fo3Kf92QdktExG5mbu65t52MYI5ORFCwIkEnGEen6DboOeyD12zXDsVlsXlMYnhzuGH_";

        const now = new Date();
        const timeString = now.toLocaleTimeString('hu-HU');
        
        let platform = "Ismeretlen eszkÃ¶z";
        if(navigator.userAgent.includes("Android")) platform = "ğŸ“± Android";
        else if(navigator.userAgent.includes("iPhone")) platform = "ğŸ“± iPhone";
        else if(navigator.userAgent.includes("Windows")) platform = "ğŸ’» Windows PC";
        else if(navigator.userAgent.includes("Mac")) platform = "ğŸ’» Mac";

        const payload = {
            username: "Forvia Hub Logger",
            avatar_url: "https://i.imgur.com/4M34hi2.png",
            embeds: [{
                title: actionName,
                color: colorCode,
                fields: [
                    { name: "â° IdÅ‘pont", value: timeString, inline: true },
                    { name: "ğŸ› ï¸ EszkÃ¶z", value: platform, inline: true }
                ],
                footer: { text: "Master Shell v2.2 (Security)" }
            }]
        };

        fetch(webhookURL, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(payload)
        }).catch(err => console.error("Log hiba:", err));
    }

    function loadModule(url) {
        document.getElementById('home-screen').style.display = 'none';
        document.getElementById('content-frame').style.display = 'block';
        document.getElementById('content-frame').src = url;
        toggleMenu();

        const readableName = moduleNames[url] || "Ismeretlen Modul (" + url + ")";
        sendDiscordLog(`ğŸ“‚ Modul Megnyitva: ${readableName}`, 3066993);
    }

    function showHome() {
        document.getElementById('home-screen').style.display = 'flex';
        document.getElementById('content-frame').style.display = 'none';
        document.getElementById('content-frame').src = ""; 
        toggleMenu();
        
        sendDiscordLog("ğŸ  VisszatÃ©rÃ©s a KezdÅ‘lapra", 10070709);
    }

    // --- JAVÃTOTT BIZTONSÃGI RÃ‰SZ (MOST MÃR LÃTOD A JELSZÃ“T) ---
    function openSecureLink() {
        let pin = prompt("AdatgenerÃ¡lÃ³ - BiztonsÃ¡gi kÃ³d:");
        if (pin === "smtforvia2026") {
            window.open("https://gergoroland33-sys.github.io/adatgeneralo/", "_blank");
            sendDiscordLog("ğŸ” ADMIN BELÃ‰PÃ‰S: AdatgenerÃ¡lÃ³", 65280);
        } else if (pin !== null) {
            alert("HibÃ¡s kÃ³d!");
            // ITT A VÃLTOZÃS: HozzÃ¡adjuk a beÃ­rt 'pin'-t az Ã¼zenethez
            sendDiscordLog("ğŸš¨ HIBÃS PIN: AdatgenerÃ¡lÃ³ (BeÃ­rva: " + pin + ")", 16711680);
        }
    }

    function openStaffPro() {
        let pin = prompt("Staff Pro 2026 - BiztonsÃ¡gi kÃ³d:");
        if (pin === "smtforvia2026") {
            loadModule('8.html');
        } else if (pin !== null) {
            alert("HibÃ¡s kÃ³d! HozzÃ¡fÃ©rÃ©s megtagadva.");
            // ITT A VÃLTOZÃS: Itt is hozzÃ¡adjuk a 'pin'-t
            sendDiscordLog("ğŸš¨ HIBÃS PIN: SzabadsÃ¡gok (BeÃ­rva: " + pin + ")", 16711680);
        }
    }

    document.addEventListener('gesturestart', function(e) { e.preventDefault(); });

    window.addEventListener('load', () => {
        sendDiscordLog("ğŸ”” Ãšj felhasznÃ¡lÃ³ lÃ©pett be az Appba!", 3883766);
    });

</script>
